(()=>{"use strict";var e={n:o=>{var r=o&&o.__esModule?()=>o.default:()=>o;return e.d(r,{a:r}),r},d:(o,r)=>{for(var t in r)e.o(r,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:r[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};const o=require("koa");var r=e.n(o);const t=require("path");var n=e.n(t);const a=require("koa-helmet");var s=e.n(a);const u=require("koa-static");var c=e.n(u);const i=require("koa-body"),l=require("koa-json");var d=e.n(l);const m=require("@koa/cors");var y=e.n(m);const b=require("koa-compose");var p=e.n(b);const q=require("koa-combine-routers");var k=e.n(q);const v=require("@koa/router");var f=e.n(v);const h=new(f());h.get("/a",(function(e){e.body={message:"hello from a!!!"}}));const g=h;const j=new(f());j.get("/b",(function(e){e.body={message:"hello from b"}}));const w=j;const O=new(f());O.post("/user",(async function(e){let o=e.request.query,r=e.headers;"role"in r&&"admin"===r.role?"name"in o&&null!==o.name&&""!==o.name&&"email"in o&&null!==o.email&&""!==o.email?(e.status=200,e.body={code:e.status,data:{...o},msg:"上传成功"}):(e.status=404,e.body={code:e.status,msg:"name 与 email 不得为空"}):(e.status=401,e.body={code:e.status,msg:"unauthorized post"})}));const P=O,_=k()(g,w,P),x=require("url");const z=e.n(x)().fileURLToPath("file:///home/sudokyo/code/school/koa-playground/src/index.js"),B=n().dirname(z),L=new(r()),M=p()([(0,i.koaBody)(),c()(n().join(B,"../public")),y()(),d()({pretty:!1,param:"pretty"}),s()()]);L.use(M),L.use(_()),L.listen(3001)})();